<?xml version="1.0"?>
<!DOCTYPE project>
<project name="midas" default="dist" basedir=".">
<property name="src" value="src/midas"/>
<property name="build" value="proj/midas/build"/>
<property name="dist" value="proj/midas/dist"/>
<property name="3rdparty.jars" value="artifacts/jars"/>

<target name="clean">
  <tstamp>
      <format property="touch.time" pattern="MM/dd/yyyy hh:mm aa"
              offset="0" unit="hour"/>
  </tstamp>
  <echo>Building MiDAS - ${touch.time}</echo>

  <delete dir="${build}"/>
  <delete dir="${dist}"/>
</target>

<target name="init">
  <mkdir dir="${build}/classes"/>
  <path id="compile.classpath">
      <fileset dir="${3rdparty.jars}">
          <include name="*.jar"/>
      </fileset>
  </path>
</target>

<target name="compile" depends="init"> 
  <copy todir="${build}/classes">
    <fileset dir="${src}">
      <exclude name="**/*.java"/>
      <exclude name="**/*.form"/>
      <exclude name="**/*.cpp"/>
      <exclude name="**/*.h"/>
    </fileset>
  </copy>
  <javac srcdir="${src}" destdir="${build}/classes" debug="on">
      <classpath refid="compile.classpath"/>
  </javac>
</target>

<target name="dist" depends="compile">
  <mkdir dir="${dist}"/>
  <jar jarfile="${dist}/midas.jar" basedir="${build}/classes"/>
</target>


</project>

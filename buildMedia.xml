<?xml version="1.0"?>
<!DOCTYPE project>
<project name="media" default="dist" basedir=".">
<property name="src" value="src/media"/>
<property name="build" value="proj/media/build"/>
<property name="dist" value="proj/media/dist"/>
<property name="midas.lib" value="proj/midas/dist"/>
<property name="jmf.lib" value="artifacts/libs/jmf"/>
<property name="3rdparty.jars" value="artifacts/jars"/>


<target name="clean">
  <tstamp>
    <format property="TODAY_UK" pattern="d-MMMM-yyyy" locale="en"/>
  </tstamp>
  <tstamp>
      <format property="touch.time" pattern="MM/dd/yyyy hh:mm aa"
              offset="-5" unit="hour"/>
  </tstamp>
  <echo>Building Media - ${touch.time}</echo>
  <delete dir="${build}"/>
  <delete dir="${dist}"/>
</target>

<target name="init">
  <mkdir dir="${build}/classes"/>
  <path id="compile.classpath">
      <fileset dir="${midas.lib}">
          <include name="*.jar"/>
      </fileset>
      <fileset dir="${jmf.lib}">
          <include name="*.jar"/>
      </fileset>
      <fileset dir="${3rdparty.jars}">
          <include name="*.jar"/>
      </fileset>
  </path>
  
<!--available classname="com.mitel.miutil.MiConfig" classpathref="compile.classpath" property="lib.present"/>
<echo>${lib.present}</echo-->
          
</target>

<target name="compile" depends="init"> 
  <copy todir="${build}/classes">
    <fileset dir="${src}">
      <exclude name="**/*.java"/>
      <exclude name="**/*.form"/>
      <exclude name="**/*.cpp"/>
      <exclude name="**/*.h"/>
    </fileset>
  </copy>
  <javac srcdir="${src}" destdir="${build}/classes" debug="on">
      <classpath refid="compile.classpath"/>
  </javac> 
</target>

<target name="dist" depends="compile">
  <mkdir dir="${dist}"/>
  <jar jarfile="${dist}/media.jar" basedir="${build}/classes"/>
</target>

</project>
